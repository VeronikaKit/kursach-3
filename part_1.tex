
%%Программная реализация (на языке Javascript) алгоритмов
%% генерации фонда оценочных средств по математике
\section{Реализация алгоритмов на базе проекта Час ЕГЭ}
В это главе мы приводим вспомогательные функции и алгоритм написания шаблона текстовой задачи.

Функции, используемые в проекте

За 10 лет работы над проектом «Час ЕГЭ» была разработан нестандартная библиотека для упрощения многих задач. Далее представлены наиболее используемые функции из неё.
Вспомогательные функции
function sluchch(n,k,s) Возвращает случайное число от n до k с шагом s (по умолчанию 1). Эта функция используется настолько часто, что для неё была придумана сокращённая форма sl(). function slKrome(a,p1,p2,p3) Возвращает случайное число, кроме a. Если a – массив, то не содержащееся в нём; если число или строка, то не равное ему; Если функция, принимающая параметр - то не удовлетворяющее ей.
\par Работа с числами
\begin{enumerate}
    \item Number.prototype.chislitlx=function(p1,p2) Возвращает строку, состоящую из данного числа и подходящего падежа слова p1, при этом полученное словосочетанию стоит в падеже p2 (если не указан - именительный).
    \item Number.prototype.pow=function(n) Возвращает число в степени n. 
    \item Number.prototype.sqrt=function(n) Возвращает квадратный корень из числа. 
    \item Number.prototype.sqr=function() Возвращает квадрат числа. 
    \item Number.prototype.abs=function() Возвращает модуль числа. 
    \item Number.prototype.floor=function() Возвращает число, округленное до целого в меньшую сторону. 
    \item Number.prototype.ceil=function() Возвращает число, округленное до целого в большую сторону. 
    \item Number.prototype.pm=function() Случайным образом возвращает число или ему противоположное. 
\end{enumerate}
\par Работа со строками 
\begin{enumerate}
    \item Number.prototype.toZagl=function() Возвращает исходную строку с первой заглавной буквой.
    \item setEquationTask-отвечает за составление задач с уравнениями.
    \item roots[] задаёт корни уравнения
\end{enumerate}

Для примера возьмём задание №27482.
\\
\textbf{Задача №27482.}
Причалы $K$ и $B$ расположены на водохранилище, расстояние между ними равно $255$ км. Моторная лодка отправилась с постоянной скоростью из $K$ в $B$. Через неделю после прибытия она отправилась тем же путём обратно со скоростью на $4$ км/ч больше прежней, сделав по пути остановку на $1$ час. В результате она затратила на обратный путь столько же времени, сколько на путь из $K$ в $B$. Определите скорость моторной лодки на пути из $K$ в $B$. Ответ дайте в км/ч.\\ 

\begin{enumerate}
    \item Выбираем задание из Открытого Банка Заданий ЕГЭ и копируем его текст.
    \item Добавляем ответ в поле answers (по умолчанию 0).
    \item Инициализируем всех необходимые переменные для задачи (вес, проценты и так далее). Присваиваем им значения при помощи функции sluchch() или slKrome() (см. главу 2). Для хранения ответа создаём отдельную переменную.
    \item Заменяем все числа в тексте на переменные (при помощи +’·’+). 
    \item Обособляем слова, которые не влияют на условия задачи. Это могут быть имена, профессии, транспорт и т.п. 
    \item Создаём переменные, которые будет отвечать за выбранные в прошлом пункте слова, и заменяем слова на переменные в тексте задачи. Выбираем их значения из массивов при помощи iz()
    \item Иногда в задании выбранные слова используются в разных падежах. Для этого в проекте существует лексический модуль. Используем на склоняемых словах функцию sklonlxkand(). Теперь необходимо указать падеж слов в задании. Также при необходимости заглавной буквы в слове используем toZagl(). Если в тексте задачи присутствуют слова, зависимые от числительных, к ним применяется функция chislitlx().
    \item Далее составляем общее решение с учетом всех переменных и особенностей задачи.
    \item Заготовка шаблона имеет следующий вид.
    \lstinputlisting[]{code/27482.js} 
\end{enumerate}

Примеры генерации задний приведены во второй главе.
 %TODO: Приложение зафигачить
